(this["webpackJsonpbizkit-test-cra"]=this["webpackJsonpbizkit-test-cra"]||[]).push([[0],{106:function(e,t,n){e.exports={Root:"PageCustomerEdit_Root__3WWWJ",MenuButton:"PageCustomerEdit_MenuButton__yDH8k",Title:"PageCustomerEdit_Title__3cZLZ",Page:"PageCustomerEdit_Page__3vHaW",SaveButtonWrap:"PageCustomerEdit_SaveButtonWrap__11AFs",Loading:"PageCustomerEdit_Loading__getqW"}},128:function(e,t,n){e.exports={Root:"PageCustomerList_Root__1SWow",MenuButton:"PageCustomerList_MenuButton__2qrYr",Title:"PageCustomerList_Title__3WLiF",Page:"PageCustomerList_Page__CSqCb",Filter:"PageCustomerList_Filter__3TF8Y"}},207:function(e,t,n){e.exports={Drawer:"Sidebar_Drawer__1QdR4",Drawer__paper:"Sidebar_Drawer__paper__23xCX",Drawer__header:"Sidebar_Drawer__header__1scIC"}},356:function(e,t,n){e.exports={DefaultLayout:"DefaultLayout_DefaultLayout__3cKpc"}},360:function(e,t,n){e.exports={PageLogin:"PageLogin_PageLogin__29r0K"}},383:function(e,t,n){},464:function(e,t,n){},465:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),i=n.n(r),c=n(15),s=n.n(c),o=(n(383),n(29)),l=n(31),j=n(99),d=Object(r.createContext)(null),u=n(353),b=n.n(u).a.create({baseURL:"/api/v1"});function m(){return b.get("/users/me")}b.interceptors.request.use((function(e){var t=localStorage.getItem("token/access");return e.headers.Authorization=t?"Bearer ".concat(t):"",e}));var h=n(65),O=n(491),x=n(469),p=n(470),g=n(492),f=n(319),v=n(354),y=n.n(v),_=n(355),C=n.n(_),w=n(207),W=n.n(w);function S(e){var t=e.logout;return Object(a.jsxs)(h.a,{className:W.a.Drawer,variant:"permanent",classes:{paper:W.a.Drawer__paper},anchor:"left",children:[Object(a.jsx)("div",{className:W.a.Drawer__header}),Object(a.jsx)(O.a,{}),Object(a.jsxs)(x.a,{children:[Object(a.jsxs)(p.a,{button:!0,component:j.b,to:"/",children:[Object(a.jsx)(g.a,{children:Object(a.jsx)(y.a,{})}),Object(a.jsx)(f.a,{primary:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"})]}),Object(a.jsxs)(p.a,{button:!0,onClick:t,children:[Object(a.jsx)(g.a,{children:Object(a.jsx)(C.a,{})}),Object(a.jsx)(f.a,{primary:"\u0412\u044b\u0445\u043e\u0434"})]})]})]})}var P=n(356),k=n.n(P);function D(e){var t=e.logout,n=e.children;return Object(a.jsxs)("div",{className:k.a.DefaultLayout,children:[Object(a.jsx)(S,{logout:t}),n]})}var q=n(104),L=n(234),N=n(84),E=n(320),F=n(242),R=n(243),T=n(482),B=n(321),M=n(238),A=n(322),I=n(493),H=n(22),z=n(506);function J(e){return Object(a.jsx)(z.a,Object(H.a)({elevation:6,variant:"filled"},e))}var K=n(358),U=n.n(K),Y=n(359),Z=n.n(Y);function Q(e){var t=e.login,n=Object(r.useState)(!1),i=Object(o.a)(n,2),c=i[0],s=i[1],l=Object(r.useState)(!1),j=Object(o.a)(l,2),d=j[0],u=j[1],b=Object(r.useState)("testkit1301@mail.ru"),m=Object(o.a)(b,2),h=m[0],O=m[1],x=Object(r.useState)("class456"),p=Object(o.a)(x,2),g=p[0],f=p[1];function v(){s(!1)}return Object(a.jsxs)(q.a,{elevation:3,children:[Object(a.jsx)(L.a,{padding:3,children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:h,password:g}).catch((function(e){s(!0)}))},children:[Object(a.jsx)(N.a,{color:"textPrimary",variant:"h6",component:"h1",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(a.jsx)(L.a,{marginTop:1,children:Object(a.jsx)(E.a,{margin:"dense",label:"Email",variant:"outlined",fullWidth:!0,value:h,onChange:function(e){return O(e.target.value)}})}),Object(a.jsx)(L.a,{marginTop:1,children:Object(a.jsxs)(F.a,{variant:"outlined",margin:"dense",children:[Object(a.jsx)(R.a,{shrink:!0,htmlFor:"outlined-adornment-password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsx)(T.a,{id:"outlined-adornment-password",type:d?"text":"password",value:g,margin:"dense",fullWidth:!0,onChange:function(e){return f(e.bubbles.value)},endAdornment:Object(a.jsx)(B.a,{position:"end",children:Object(a.jsx)(M.a,{"aria-label":"toggle password visibility",onClick:function(){u(!d)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:d?Object(a.jsx)(U.a,{}):Object(a.jsx)(Z.a,{})})}),labelWidth:70})]})}),Object(a.jsx)(L.a,{marginTop:2,display:"flex",justifyContent:"flex-end",children:Object(a.jsx)(A.a,{variant:"contained",color:"primary",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(a.jsx)(I.a,{open:c,autoHideDuration:6e3,onClose:v,children:Object(a.jsx)(J,{onClose:v,severity:"error",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})})]})}var X=n(360),G=n.n(X);function V(e){var t=e.login;return Object(a.jsx)("div",{className:G.a.PageLogin,children:Object(a.jsx)(Q,{login:t})})}var $=n(123),ee=n(158),te=n(494),ne=n(323),ae=n(246),re=n(324),ie=n(495),ce=n(325),se=n(326),oe=n(327),le=n(328),je=n(329),de=n(330),ue=n(350),be=n(496),me=n(497),he=n(498),Oe=n(499),xe=n(500),pe=n(199),ge=n.n(pe),fe=n(362),ve=n.n(fe),ye=n(363),_e=n.n(ye),Ce=n(361),we=n.n(Ce);function We(e){var t=e.page;return b.get("/companies/",{params:{page:t}})}function Se(e){return b.get("/companies/".concat(e,"/"))}function Pe(e,t){return b.post("/companies/".concat(e,"/"),t)}function ke(e,t){return b.patch("/companies/".concat(e,"/"),t)}var De=n(128),qe=n.n(De),Le={name:"",type:"",region:"",city:""},Ne={open:!1,type:"info",message:""};function Ee(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(""),s=Object(o.a)(c,2),l=s[0],d=s[1],u=Object(r.useState)(Object(H.a)({},Ne)),m=Object(o.a)(u,2),h=m[0],O=m[1],x=Object(r.useState)(10),p=Object(o.a)(x,2),g=p[0],f=p[1],v=Object(r.useState)(0),y=Object(o.a)(v,2),_=y[0],C=y[1],w=Object(r.useState)([]),W=Object(o.a)(w,2),S=W[0],P=W[1],k=Object(r.useState)(Object(H.a)({},Le)),D=Object(o.a)(k,2),L=D[0],T=D[1],B=Object(r.useState)(0),z=Object(o.a)(B,2),K=z[0],U=z[1];function Y(){O(Object(H.a)({},Ne))}function Z(e){return function(){(function(e){var t=e.id;return b.delete("/companies/"+t)})(e).then((function(t){t.data;P(Object(ee.a)(S).filter((function(t){return t.id!==e}))),O({open:!0,type:"success",message:"\u041a\u043b\u0438\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0451\u043d"})})).catch((function(){O({open:!0,type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"})}))}}Object(r.useEffect)((function(){We({page:1}).then((function(e){var t=e.data;t.results||O({open:!0,type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"}),P(t.results),C(t.count)})).catch((function(e){e.data;O({open:!0,type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"})}))}),[]);var Q,X=Object(r.useMemo)((function(){return Array.from(new Set(S.map((function(e){var t;return(null!==(t=e.region)&&void 0!==t?t:"").trim()})))).filter((function(e){return""!==e}))}),[S]),G=Object(r.useMemo)((function(){return Array.from(new Set(S.map((function(e){var t;return(null!==(t=e.type)&&void 0!==t?t:"").trim()})))).filter((function(e){return""!==e}))}),[S]),V=Object(r.useMemo)((function(){var e=Object(ee.a)(S);return""!==L.name&&(e=e.filter((function(e){return e.name.includes(L.name)}))),""!==L.type&&(e=e.filter((function(e){return e.type===L.type}))),""!==L.region&&(e=e.filter((function(e){return e.region===L.region}))),""!==L.city&&(e=e.filter((function(e){return e.city.includes(L.city)}))),e.slice(K*g,K*g+g)}),[S,L,K,g]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(te.a,{color:"inherit",position:"static",className:qe.a.Root,children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(M.a,{edge:"start",color:"inherit","aria-label":"\u043c\u0435\u043d\u044e",className:qe.a.MenuButton,children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(N.a,{variant:"h6",className:qe.a.Title,children:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"}),Object(a.jsx)(A.a,{onClick:(Q="",function(){d(Q),i(!0)}),color:"primary",variant:"contained",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}),Object(a.jsxs)(q.a,{className:qe.a.Page,children:[Object(a.jsxs)("div",{className:qe.a.Filter,children:[Object(a.jsx)(E.a,{variant:"outlined",fullWidth:!0,label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",value:L.name,onChange:function(e){return T(Object(H.a)(Object(H.a)({},L),{},{name:e.target.value}))}}),Object(a.jsxs)(F.a,{variant:"outlined",fullWidth:!0,children:[Object(a.jsx)(R.a,{children:"\u0422\u0438\u043f \u044e\u0440.\u043b\u0438\u0446\u0430"}),Object(a.jsxs)(ae.a,{value:L.type,onChange:function(e){return T(Object(H.a)(Object(H.a)({},L),{},{type:e.target.value}))},children:[Object(a.jsx)(re.a,{value:"",children:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"}),G.map((function(e){return Object(a.jsx)(re.a,{value:e,children:e},e)}))]})]}),Object(a.jsxs)(F.a,{variant:"outlined",fullWidth:!0,children:[Object(a.jsx)(R.a,{children:"\u0420\u0435\u0433\u0438\u043e\u043d"}),Object(a.jsxs)(ae.a,{variant:"outlined",value:L.region,onChange:function(e){return T(Object(H.a)(Object(H.a)({},L),{},{region:e.target.value}))},children:[Object(a.jsx)(re.a,{value:"",children:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"}),X.map((function(e){return Object(a.jsx)(re.a,{value:e,children:e},e)}))]})]}),Object(a.jsx)(E.a,{variant:"outlined",fullWidth:!0,label:"\u0413\u043e\u0440\u043e\u0434",value:L.city,onChange:function(e){return T(Object(H.a)(Object(H.a)({},L),{},{city:e.target.value}))}}),Object(a.jsx)(M.a,{onClick:function(){return T(Object(H.a)({},Le))},children:Object(a.jsx)(we.a,{})})]}),Object(a.jsx)(ie.a,{children:Object(a.jsxs)(ce.a,{children:[Object(a.jsx)(se.a,{children:Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(le.a,{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(a.jsx)(le.a,{children:"\u0422\u0438\u043f \u044e\u0440.\u043b\u0438\u0446\u0430"}),Object(a.jsx)(le.a,{children:"\u0420\u0435\u0433\u0438\u043e\u043d"}),Object(a.jsx)(le.a,{children:"\u0413\u043e\u0440\u043e\u0434"}),Object(a.jsx)(le.a,{})]})}),Object(a.jsx)(je.a,{children:V.map((function(e){return Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(le.a,{width:"30%",children:e.name}),Object(a.jsx)(le.a,{width:"90",children:e.type||"N/A"}),Object(a.jsx)(le.a,{children:e.region||"N/A"}),Object(a.jsx)(le.a,{children:e.city||"N/A"}),Object(a.jsxs)(le.a,{width:"100",align:"right",children:[Object(a.jsx)(M.a,{component:j.b,to:"/company/".concat(e.id),children:Object(a.jsx)(ve.a,{})}),Object(a.jsx)(M.a,{onClick:Z(e.id),children:Object(a.jsx)(_e.a,{})})]})]},e.id)}))}),Object(a.jsx)(de.a,{children:Object(a.jsx)(oe.a,{children:Object(a.jsx)(ue.a,{rowsPerPageOptions:[5,10,25,{label:"\u0412\u0441\u0435",value:-1}],count:_,rowsPerPage:g,page:K,SelectProps:{inputProps:{"aria-label":"\u0417\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"},native:!0},onChangePage:function(e,t){U(t)},onChangeRowsPerPage:function(e){f(parseInt(e.target.value,10)),U(0)}})})})]})})]}),Object(a.jsx)(Re,{open:n,id:l,onClose:function(e,t){i(!1),d(""),e&&(t?P((function(n){return n.map((function(n){return n.id!==t?n:Object(H.a)(Object(H.a)({},n),e)}))})):We({page:1}).then((function(e){var t=e.data;t.results||O({open:!0,type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"}),P(t.results),C(t.count)})).catch((function(e){e.data;O({open:!0,type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"})})))}}),Object(a.jsx)(I.a,{open:h.open,autoHideDuration:6e3,onClose:Y,children:Object(a.jsx)(J,{onClose:Y,severity:h.type,children:h.message})})]})}var Fe={name:"",shortname:"",type:"",registered_type:"",region:"",city:"",email:"",phone:"",description:""};function Re(e){var t=e.id,n=e.open,i=e.onClose,c=Object(r.useState)(Object(H.a)({},Ne)),s=Object(o.a)(c,2),l=s[0],j=s[1],d=Object(r.useState)(Object(H.a)({},Fe)),u=Object(o.a)(d,2),b=u[0],m=u[1];function h(e){m((function(t){return Object(H.a)(Object(H.a)({},t),{},Object($.a)({},e.target.name,e.target.value))}))}function O(){j(Object(H.a)({},Ne))}return Object(r.useEffect)((function(){""!==t?Se(t).then((function(e){var t=e.data;console.log(t),m({name:t.name||"",shortname:t.shortname||"",type:t.type||"",registered_type:t.registered_type||"",region:t.region||"",city:t.city||"",email:t.email||"",phone:t.phone||"",description:t.description||""})})).catch(console.error):m(Object(H.a)({},Fe))}),[t]),Object(a.jsxs)(be.a,{open:n,onClose:i,"aria-labelledby":"edit-dialog-title",children:[Object(a.jsx)(me.a,{id:"edit-dialog-title",children:""!==t?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0435\u043d\u0442\u0430":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),Object(a.jsx)(he.a,{children:Object(a.jsx)("form",{id:"customerForm",onSubmit:function(e){e.preventDefault(),(""===t?Pe:ke)(t,b).then((function(){j({open:!0,type:"success",message:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"}),setTimeout((function(){i(b,t)}),1500)})).catch((function(e){var t=e.response.data;if(t){console.log(t);var n=Object.keys(t)[0];j({open:!0,type:"error",message:"[".concat(n,"] ").concat(t[n])})}else j({open:!0,type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})}))},children:Object(a.jsxs)(Oe.a,{container:!0,spacing:3,children:[Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,value:b.name,onChange:h,name:"name",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",margin:"dense",variant:"outlined",fullWidth:!0})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,value:b.shortname,onChange:h,name:"shortname",label:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",margin:"dense",variant:"outlined",fullWidth:!0})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,value:b.type,onChange:h,name:"type",label:"\u0422\u0438\u043f \u044e\u0440.\u043b\u0438\u0446\u0430",margin:"dense",variant:"outlined",fullWidth:!0})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,value:b.registered_type,onChange:h,name:"registered_type",label:"\u0421\u0444\u0435\u0440\u0430 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",margin:"dense",variant:"outlined",fullWidth:!0})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,value:b.region,onChange:h,name:"region",label:"\u0420\u0435\u0433\u0438\u043e\u043d",margin:"dense",variant:"outlined",fullWidth:!0})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,value:b.city,onChange:h,name:"city",label:"\u0413\u043e\u0440\u043e\u0434",margin:"dense",variant:"outlined",fullWidth:!0})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,value:b.email,onChange:h,name:"email",type:"email",label:"Email",margin:"dense",variant:"outlined",fullWidth:!0})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,value:b.phone,onChange:h,name:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"tel",margin:"dense",variant:"outlined",fullWidth:!0})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,children:Object(a.jsx)(E.a,{value:b.description,onChange:h,name:"description",label:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)",rows:3,multiline:!0,margin:"dense",variant:"outlined",fullWidth:!0})})]})})}),Object(a.jsxs)(xe.a,{children:[Object(a.jsx)(A.a,{onClick:i,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(a.jsx)(A.a,{type:"submit",form:"customerForm",color:"primary",children:""!==t?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),Object(a.jsx)(I.a,{open:l.open,autoHideDuration:6e3,onClose:O,children:Object(a.jsx)(J,{onClose:O,severity:l.type,children:l.message})})]})}var Te=n(507),Be=n(504),Me=n(339),Ae=n(505),Ie=n(245),He=n.n(Ie);var ze=n(106),Je=n.n(ze);function Ke(e){var t=e.children,n=e.value,r=e.index;return Object(a.jsx)("div",{role:"tabpanel",hidden:n!==r,children:n===r&&Object(a.jsx)(L.a,{component:"div",paddingTop:3,children:t})})}function Ue(){return Object(a.jsx)("div",{className:Je.a.Loading,children:Object(a.jsx)(N.a,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}var Ye={name:"",shortname:"",workscope:"",region:"",city:"",email:"",phone:"",description:"",registered_name:"",registered_type:"",bin_iin:"",leader:"",leader_position:"",registered_address:"",address:"",tax_payer:!1},Ze={open:!1,type:"info",message:""};function Qe(){var e,t=Object(l.f)().id,n=Object(r.useState)(Object(H.a)({},Ze)),i=Object(o.a)(n,2),c=i[0],s=i[1];function j(){s(Object(H.a)({},Ze))}var d=Object(r.useState)(0),u=Object(o.a)(d,2),m=u[0],h=u[1];var O=Object(r.useState)(null),x=Object(o.a)(O,2),p=x[0],g=x[1];function f(e){console.log(e.target.name,e.target.checked),g((function(t){var n=e.target.value,a=e.target.name;return"tax_payer"===a&&(n=e.target.checked),Object(H.a)(Object(H.a)({},t),{},Object($.a)({},a,n))}))}Object(r.useEffect)((function(){Se(t).then((function(e){var t=e.data,n={};Object.keys(t).forEach((function(e){var a;return n[e]=null!==(a=t[e])&&void 0!==a?a:Ye[e]})),g(n)})).catch((function(){s({open:!0,type:"error",message:"\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})}))}),[t]);var v=Object(r.useState)([]),y=Object(o.a)(v,2),_=y[0],C=y[1];return Object(r.useEffect)((function(){(function(e){var t=e.companyId,n=e.ordering,a=e.search,r=e.page;return b.get("/companies/".concat(t,"/bank_details/"),{params:{page:r,ordering:n,search:a}})})({companyId:t}).then((function(e){var t=e.data;C(t.results)})).catch((function(e){s({open:!0,type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"})}))}),[t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(te.a,{color:"inherit",position:"static",className:Je.a.Root,children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(M.a,{edge:"start",color:"inherit","aria-label":"\u043c\u0435\u043d\u044e",className:Je.a.MenuButton,children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(N.a,{variant:"h6",className:Je.a.Title,children:null!==(e=null===p||void 0===p?void 0:p.name)&&void 0!==e?e:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),Object(a.jsx)(A.a,{onClick:function(){c('\u0422\u0430\u043a \u0432\u0435\u0434\u044c \u043c\u044b \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c \u0432\u0440\u043e\u0434\u0435 \u043a\u0430\u043a. \u0427\u0442\u043e "\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"?')},color:"primary",variant:"contained",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}),Object(a.jsxs)(q.a,{className:Je.a.Page,children:[Object(a.jsxs)(Te.a,{value:m,onChange:function(e,t){h(t)},children:[Object(a.jsx)(Be.a,{label:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(a.jsx)(Be.a,{label:"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"})]}),p?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ke,{value:m,index:0,children:Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault(),ke(t,p).then((function(e){e.data;s({open:!0,type:"success",message:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"})})).catch((function(e){var t=e.response.data;if(t){console.log(t);var n=Object.keys(t)[0];s({open:!0,type:"error",message:"[".concat(n,"] ").concat(t[n])})}else s({open:!0,type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})}))},children:Object(a.jsxs)(Oe.a,{container:!0,spacing:6,children:[Object(a.jsxs)(Oe.a,{container:!0,item:!0,xs:12,md:6,spacing:2,alignContent:"flex-start",children:[Object(a.jsx)(Oe.a,{item:!0,xs:12,children:Object(a.jsx)(N.a,{variant:"h6",component:"h2",children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,children:Object(a.jsx)(E.a,{required:!0,label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",variant:"outlined",fullWidth:!0,margin:"dense",name:"name",value:p.name,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",fullWidth:!0,margin:"dense",name:"shortname",value:p.shortname,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u0421\u0444\u0435\u0440\u0430 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",variant:"outlined",fullWidth:!0,margin:"dense",name:"workscope",value:p.workscope,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u0420\u0435\u0433\u0438\u043e\u043d",variant:"outlined",fullWidth:!0,margin:"dense",name:"region",value:p.region,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u0413\u043e\u0440\u043e\u0434",variant:"outlined",fullWidth:!0,margin:"dense",name:"city",value:p.city,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,type:"email",label:"Email",variant:"outlined",fullWidth:!0,margin:"dense",name:"email",value:p.email,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,type:"tel",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",variant:"outlined",fullWidth:!0,margin:"dense",name:"phone",value:p.phone,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,children:Object(a.jsx)(E.a,{label:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)",variant:"outlined",fullWidth:!0,margin:"dense",name:"description",multiline:!0,rows:3,value:p.description,onChange:f})})]}),Object(a.jsxs)(Oe.a,{container:!0,item:!0,xs:12,md:6,spacing:2,alignContent:"flex-start",children:[Object(a.jsx)(Oe.a,{item:!0,xs:12,children:Object(a.jsx)(N.a,{variant:"h6",component:"h2",children:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,children:Object(a.jsx)(E.a,{required:!0,label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u044e\u0440.\u043b\u0438\u0446\u0430",variant:"outlined",fullWidth:!0,margin:"dense",name:"registered_name",value:p.registered_name,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u0422\u0438\u043f \u044e\u0440.\u043b\u0438\u0446\u0430",variant:"outlined",fullWidth:!0,margin:"dense",name:"registered_type",value:p.registered_type,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u0411\u0418\u041d/\u0418\u0418\u041d",variant:"outlined",fullWidth:!0,margin:"dense",name:"bin_iin",value:p.bin_iin,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c",variant:"outlined",fullWidth:!0,margin:"dense",name:"leader",value:p.leader,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f",variant:"outlined",fullWidth:!0,margin:"dense",name:"leader_position",value:p.leader_position,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441",variant:"outlined",fullWidth:!0,margin:"dense",name:"registered_address",value:p.registered_address,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(E.a,{required:!0,label:"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441",variant:"outlined",fullWidth:!0,margin:"dense",name:"address",value:p.address,onChange:f})}),Object(a.jsx)(Oe.a,{item:!0,xs:12,children:Object(a.jsx)(Me.a,{control:Object(a.jsx)(Ae.a,{color:"primary"}),label:"\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a \u041d\u0414\u0421 (\u043d\u0435\u0442/\u0434\u0430)",labelPlacement:"start",margin:"dense",name:"tax_payer",value:p.tax_payer,onChange:f})})]}),Object(a.jsx)(Oe.a,{item:!0,xs:12,className:Je.a.SaveButtonWrap,children:Object(a.jsx)(A.a,{type:"submit",variant:"contained",color:"primary",size:"large",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})}),Object(a.jsx)(Ke,{value:m,index:1,children:Object(a.jsx)(He.a,{title:"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",columns:[{title:"\u0411\u0430\u043d\u043a",field:"bank"},{title:"\u0411\u0418\u041a",field:"bank_id_code"},{title:"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430",field:"account_number"},{title:"\u0412\u0430\u043b\u044e\u0442\u0430",field:"currency"}],data:_,localization:{pagination:{labelDisplayedRows:"{from}-{to} \u0438\u0437 {count}"},toolbar:{nRowsSelected:"{0} \u0441\u0442\u0440\u043e\u043a \u0432\u044b\u0431\u0440\u0430\u043d\u043e"},header:{actions:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"},body:{emptyDataSourceMessage:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",filterRow:{filterTooltip:"\u0424\u0438\u043b\u044c\u0442\u0440"}}},editable:{onRowAdd:function(e){return(n=t,a=e,b.post("/companies/".concat(n,"/bank_details/"),a)).then((function(t){t.data;C([].concat(Object(ee.a)(_),[e])),s({open:!0,type:"success",message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"})})).catch((function(e){s({open:!0,type:"error",message:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"})}));var n,a},onRowUpdate:function(e,n){return console.log(n,e),function(e,t,n){return b.patch("/companies/".concat(e,"/bank_details/").concat(t,"/"),n)}(t,n.id,e).then((function(t){t.data;C(_.map((function(t){return t.id!==n.id?t:e}))),s({open:!0,type:"success",message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e"})})).catch((function(e){s({open:!0,type:"error",message:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"})}))},onRowDelete:function(e){return function(e,t){return b.delete("/companies/".concat(e,"/bank_details/").concat(t,"/"))}(t,e.id).then((function(t){t.data;C(_.filter((function(t){return t.id!==e.id}))),s({open:!0,type:"success",message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e"})})).catch((function(e){s({open:!0,type:"error",message:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"})}))}}})})]}):Object(a.jsx)(Ue,{})]}),Object(a.jsx)(I.a,{open:c.open,autoHideDuration:6e3,onClose:j,children:Object(a.jsx)(J,{onClose:j,severity:c.type,children:c.message})})]})}n(464);var Xe="token/access";var Ge=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),n=t[0],i=t[1];function c(e){return function(e){var t=e.email,n=e.password;return b.post("/token/",{email:t,password:n})}({email:e.email,password:e.password}).then((function(e){var t=e.data;if(!t.access)throw t;localStorage.setItem(Xe,t.access)})).then(m).then((function(e){var t=e.data;i(t)}))}function s(){localStorage.removeItem(Xe),i(null)}Object(r.useEffect)((function(){m().then((function(e){var t=e.data;i(t)})).catch(console.error)}),[]);var u={user:n,login:c,logout:s},h=null;return h=n?Object(a.jsx)(D,{logout:s,children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(Ee,{})}),Object(a.jsx)(l.a,{path:"/company/:id",children:Object(a.jsx)(Qe,{})})]})}):Object(a.jsx)(V,{login:c}),Object(a.jsx)(j.a,{children:Object(a.jsx)(d.Provider,{value:u,children:h})})},Ve=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,882)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Ge,{})}),document.getElementById("root")),Ve()}},[[465,1,2]]]);
//# sourceMappingURL=main.740889d1.chunk.js.map